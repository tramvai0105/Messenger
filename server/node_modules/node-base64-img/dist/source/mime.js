"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateMimeType = exports.findMimeType = void 0;
const errors_1 = require("./errors");
const messages_1 = require("./messages");
function findMimeType(base64) {
    let mimeTypeArray = base64 === null || base64 === void 0 ? void 0 : base64.match(/[^:/]\w+(?=;|,)/);
    let mimeType = 'png';
    if (mimeTypeArray && mimeTypeArray[0]) {
        mimeType = mimeTypeArray[0];
    }
    validateMimeType(mimeType);
    return mimeType;
}
exports.findMimeType = findMimeType;
function validateMimeType(mimeType) {
    if (supportedMimeTypes.includes(mimeType)) {
        return true;
    }
    throw new errors_1.mimeError(`${messages_1.ERROR_MESSAGES.UNSUPPORTED_MIME_TYPE}${mimeType}`);
}
exports.validateMimeType = validateMimeType;
const supportedMimeTypes = [
    'png',
    'jpg',
    'jpeg',
    'gif'
];
